function Config(){this.getUniqueId=function(){return"undefined"==typeof APP_ID?JSON.stringify(window.location.hostname):API_ID},this.getRootUrl=function(){return"undefined"==typeof WEBSITE_ID?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+location.port:""):WEBSITE_URL},this.getApiUrl=function(){return"undefined"==typeof API_URL?window.location.protocol+"//"+window.location.hostname+(location.port?":"+window.location.port:"")+"/api":API_URL}}function Registry(t){var e=""==(t=void 0===t?n(window.location.hostname):"@"+t)?t:"8pVbaKePV3beCUZYbKSfujzucbcD3eqyJvCAUgQL8PbYe3VmAMSKC9esx8jV8M7KegPsxkDTpUKvu2UenQyPPjsDf92XnjtZh5GJRz8bQHZngNGKenKZHDD8";function n(t){return JSON.stringify(t)}this.get=function(e){var n;e+=t;if(null!==localStorage.getItem(e)){var r=localStorage.getItem(e+"&&expires");if(null===r)return null;var i=new Date(r);if((new Date).getTime()>i.getTime())return this.remove(e),null;if(null===(o=window.localStorage.getItem(e)))return o;if("undefined"===o)return null;if(void 0===o)return o=null,null;var o=(n=o,JSON.parse(n));return this.decrypt(o)}return null},this.set=function(e,r,i){void 0===r&&(r=null);i=void 0===i?6e10:1e3*i,e+=t;if(null===r)localStorage.removeItem(e);else{var o=this.encrypt(r);localStorage.setItem(e,n(o));var u=(new Date).getTime()+i;(i=new Date).setTime(u),localStorage.setItem(e+"&&expires",i)}},this.remove=function(e){e+=t;localStorage.removeItem(e),localStorage.removeItem(e+"&&expires")},this.empty=function(){for(var e=Object.keys(localStorage),n=0;n<e.length;n++){var r=e[n];r.indexOf(t)>-1&&localStorage.removeItem(r)}},this.encrypt=function(t){for(var n=JSON.stringify(t),r=[],i=e.length,o=0;o<n.length;o++){var u=o%i,a=n.charCodeAt(o)+e.charCodeAt(u);r.push(a)}return JSON.stringify(r)},this.decrypt=function(t){for(var n=[],r="",i=JSON.parse(t),o=e.length,u=0;u<i.length;u++){var a=u%o,l=i[u]-e.charCodeAt(a);n.push(l)}for(u=0;u<n.length;u++){r+=String.fromCharCode(n[u])}return n=JSON.parse(r)}}function Initialize(){this.debug=!0,this.get=function(t){return Registry.get(t)},this.set=function(t,e){return Registry.set(t,e)},this.getUrl=function(){return window.location.href},this.getUrlParams=function(){var t=window.location.search.substring(1).split("&"),e={};if(!t.length)return e;for(var n=0;n<t.length;n++){var r=t[n].split("=");e[unescape(r[0])]=unescape(r[1])}return e},this.getUrlParam=function(t){var e=this.getUrlParams();return void 0===e[t]?null:e[t]},this.getAuthUser=function(){return null===Registry.get("AuthUser")?null:Registry.get("AuthUser")},this.setAuthUser=function(t){return Registry.set("AuthUser",t)},this.getAuthToken=function(){return Registry.get("AuthToken")},this.setAuthToken=function(t){return Registry.set("AuthToken",t)},this.setLanguage=function(t){return Registry.set("CurrentLanguage",t)},this.getLanguage=function(){var t=Registry.get("CurrentLanguage");return null===t&&(t="en"),t},this.to=function(t,e,n){if(t.match("^http://")||t.match("^https://"));else t=function(t,e){e=e?(e+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var n=new RegExp("["+e+"]+$","g");return(t+"").replace(n,"")}(Config.getRootUrl(),["/"])+"/"+function(t,e){e=e?(e+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var n=new RegExp("^["+e+"]+","g");return(t+"").replace(n,"")}(t,["/"]);var r=void 0===e?"":Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&");if(r.length>0&&(t=t+(t.indexOf("?")<0?"?":"&")+r),"_blank"===(n=void 0===n?{}:n).target){var i=document.createElement("a");i.href=t,i.target="_blank",i.style.display="none",document.body.appendChild(i),document.body.lastElementChild.click()}else window.location.href=t;return!1};var t={},e=-1;this.publish=function(e,n){return!!t[e]&&(setTimeout((function(){for(var r=t[e],i=r?r.length:0;i--;)r[i].func(e,n)}),0),!0)},this.subscribe=function(n,r){t[n]||(t[n]=[]);var i=(++e).toString();return t[n].push({token:i,func:r}),i},this.unsubscribe=function(e){for(var n in t)if(t[n])for(var r=0,i=t[n].length;r<i;r++)if(t[n][r].token===e)return t[n].splice(r,1),e;return!1}}Registry=new Registry((Config=new Config).getUniqueId()),$$=new Initialize;
